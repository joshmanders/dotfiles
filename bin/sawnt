#! /usr/bin/env bash

# Usage: sawnt URL [PATH]
#
# Create a sawnt short url

APP_KEY="55114706-eb60-47bf-918d-19c1340f0a51"

URL="$1"
PATH="$2"

SHORT_URL=$(/usr/bin/curl -s -X POST https://sawnt.link/${PATH} -d "url=${URL}" -H "Authorization: ${APP_KEY}" | /usr/local/bin/jq -r '"https://sawnt.link/\(.path)"')
echo "Copied URL to clipboard."
echo "${SHORT_URL}" | /usr/bin/pbcopy
